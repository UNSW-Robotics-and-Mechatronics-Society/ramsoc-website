# Introduction

This page documents the steps required to setup the development environment.

# Prerequisites

- Install NodeJS with a version `>=22.11.0` from https://nodejs.org/en/download.
- Install Yarn with a version `1.22.22` from https://classic.yarnpkg.com/lang/en/docs/install/.

# Running The Environment

Clone the ramsoc-website repo from our github: https://github.com/UNSW-Robotics-and-Mechatronics-Society/ramsoc-website.

- If you do not have access ask someone who has admin access to the Github to add you as an admin/team member.

# Installing Dependencies

To install dependencies, simply run the following command in the terminal in the `ramsoc-website` directory.

```bash
    yarn
```

# Running Development Environment

To run the development environment, simply run the following command in the terminal in the `ramsoc-website` directory.

```bash
    yarn dev
```

# Pushing To Development Branches

## Important

**DO NOT PUSH TO THE MAIN BRANCH. INSTEAD MAKE A PULL REQUEST.**

## Linting

Before pushing, you must make sure that your code is compliant with our code styling guidelines. You can make sure by running the following command.

```bash
    yarn lint --fix
```

If there are any "errors" please fix them before merging or else Cloudflare pages will not allow you to deploy that page even if it works on your localhost.

_Note:_ you can safely ignore "warnings" such as those pertaining dependency arrays for the useEffect hook. Only errors block the build pipeline.

## Testing Cloudflare Pages Compatability

Once linting is completed, test whether the build is compatible with cloudflare pages by running the following command:

```bash
    yarn pages:build
```

## Previewing (BROKEN DO NOT USE)

The following command is meant to build and deploy a temporary preview to make sure that it works on cloudflare pages servers. This functionality will not work because we cannot use a wrangler configuration file otherwise we it would break automatically build both the documentation and the primary website at the same time.

```bash
    yarn preview
```

## Pushing Changes

Push your changes with git. I would recommend the source control tab in VSCode.

Once your changes have been made, our CI/CD pipeline will run and deploy a preview of your page.

The preview will typically have the name of [branch-name].ramsoc-website.pages.dev so for example, if you pushed to a branch called `refactor` then the latest preview link would be refactor.ramsoc-website.pages.dev, similarly pushing/merging to the `dev` branch will result in a preview link of dev.ramsoc-website.pages.dev

**DO NOT PUSH CODE WITH SENSITIVE DATA TO YOUR BRANCH**

**DO NOT PUSH TO THE `MAIN` BRANCH DIRECTLY. INSTEAD MAKE A PULL REQUEST. ANYTHING PUSHED TO `MAIN` WILL BE IMMEDIATELY DEPLOYED TO PRODUCTION!**

## Deploying To Production

To deploy to production, first make sure all code is passing CI checks and do a pull request from `dev` to `main`
